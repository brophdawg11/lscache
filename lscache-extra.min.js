!function(a,b){var c={"function":!0,object:!0},d=c[typeof exports]&&exports&&!exports.nodeType&&exports,e=c[typeof module]&&module&&!module.nodeType&&module,f=e&&e.exports===d&&d;"function"==typeof define&&"object"==typeof define.amd&&define.amd?(a.lscacheExtra=b(),define([],b)):d&&e?f?e.exports=b():d.lscacheExtra=b():a.lscacheExtra=b()}(this,function(){function a(){var a="__lscachetest__",b=a;if(void 0!==j)return j;try{g(a,b),h(a),j=!0}catch(c){j=!1}return j}function b(){return void 0===k&&(k=null!=window.JSON),k}function c(a){return a+m}function d(){return Math.floor((new Date).getTime()/o)}function e(a){var b=c(a),e=f(b);if(e){var g=parseInt(e,n);if(d()>=g)return h(a),h(b),!0}}function f(a){return localStorage.getItem(l+r+a)}function g(a,b){localStorage.removeItem(l+r+a),localStorage.setItem(l+r+a,b)}function h(a){localStorage.removeItem(l+r+a)}function i(a,b){s&&"console"in window&&"function"==typeof window.console.warn&&(window.console.warn("lscache - "+a),b&&window.console.warn("lscache - The error was: "+b.message))}var j,k,l="lscache-",m="-cacheexpiration",n=10,o=6e4,p="__expiry-units-key",q=Math.floor(864e13/o),r="",s=!1,t={set:function(e,j,k){if(a()){if("string"!=typeof j){if(!b())return;try{j=JSON.stringify(j)}catch(o){return}}try{g(e,j)}catch(o){if("QUOTA_EXCEEDED_ERR"!==o.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==o.name&&"QuotaExceededError"!==o.name)return void i("Could not add item with key '"+e+"'",o);for(var p,s=[],t=0;t<localStorage.length;t++)if(p=localStorage.key(t),0===p.indexOf(l+r)&&p.indexOf(m)<0){var u=p.substr((l+r).length),v=c(u),w=f(v);w=w?parseInt(w,n):q,s.push({key:u,size:(f(u)||"").length,expiration:w})}s.sort(function(a,b){return b.expiration-a.expiration});for(var x=(j||"").length;s.length&&x>0;)p=s.pop(),i("Cache is full, removing item with key '"+e+"'"),h(p.key),h(c(p.key)),x-=p.size;try{g(e,j)}catch(o){return void i("Could not add item with key '"+e+"', perhaps it's too big?",o)}}k?g(c(e),(d()+k).toString(n)):h(c(e))}},isExpired:function(b){if(!a())return null;var e=c(b),g=f(e);if(g){var h=parseInt(g,n);if(d()>=h)return!0}return!1},setExpiryUnitMs:function(a){var b=t.get(p);t.set(p,a),b!==a&&t.flush(),o=a},get:function(d,e,g){if(!a())return null;var i;if(e=e===!0,g=g===!0,t.isExpired(d)){if(!e){var j=c(d);i=f(d),h(d),h(j)}if(!g)return null}if(i||(i=f(d)),!i||!b())return i;try{return JSON.parse(i)}catch(k){return i}},remove:function(b){return a()?(h(b),void h(c(b))):null},supported:function(){return a()},flush:function(){if(a())for(var b=localStorage.length-1;b>=0;--b){var c=localStorage.key(b);0===c.indexOf(l+r)&&localStorage.removeItem(c)}},flushExpired:function(){if(a())for(var b=localStorage.length-1;b>=0;--b){var c=localStorage.key(b);e(c)}},setBucket:function(a){r=a},resetBucket:function(){r=""},enableWarnings:function(a){s=a}};return t.set(p,o),t});